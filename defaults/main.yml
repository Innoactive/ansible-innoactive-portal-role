---
# Docker Registry to pull images from
registry_hostname: registry.docker.innoactive.de
registry_username:
registry_password:

docker_registry:
  hostname: "{{ registry_hostname }}"
  username: "{{ registry_username }}"
  password: "{{ registry_password }}"

# Main Hub Configuration parameters
hostname:
secret_key:
admin_email:
admin_password:
create_admin_user: true
setup_database: true
setup_wmc: true
setup_discovery_portal: true
setup_customization_service: true
# Error Tracking configuration
sentry_dsn:
# Google Analytics configuration
google_analytics_tracking_id:

# Docker Image Versions
portal_image_version: latest
hub_image_version: latest
reverse_proxy_image_version: 1.2.1

mailserver_image: namshi/smtp:latest
message_queue_image: redis:5
database_image: postgres:9.6
hub_image: registry.docker.innoactive.de/hub_web:{{ hub_image_version }}
portal_image: registry.docker.innoactive.de/hub_portal_web:{{ portal_image_version }}
reverse_proxy_image: registry.docker.innoactive.de/hub_nginx:{{ reverse_proxy_image_version }}
reverse_proxy_config_generator_image: jwilder/docker-gen:latest
letsencrypt_proxy_companion_image: jrcs/letsencrypt-nginx-proxy-companion:v1.11
fluentd_image: registry.docker.innoactive.de/hub_fluentd:latest
customization_image: registry.docker.innoactive.de/hub_customization:latest

image_versions:
  mailserver: "{{ mailserver_image }}"
  message_queue: "{{ message_queue_image }}"
  database: "{{ database_image }}"
  hub: "{{ hub_image }}"
  portal: "{{ portal_image }}"
  reverse_proxy: "{{ reverse_proxy_image }}"
  reverse_proxy_config_generator: "{{ reverse_proxy_config_generator_image }}"
  letsencrypt_proxy_companion: "{{ letsencrypt_proxy_companion_image }}"
  fluentd: "{{ fluentd_image }}"
  customization: "{{ customization_image }}"

hub_configuration:
  hostname: "{{ hostname }}"
  secret_key: "{{ secret_key }}"
  admin_email: "{{ admin_email }}"
  admin_password: "{{ admin_password }}"
  setup_database: "{{ setup_database }}"
  setup_wmc: "{{ setup_wmc }}"
  setup_discovery_portal: "{{ setup_discovery_portal }}"
  setup_customization_service: "{{ setup_customization_service }}"
  google_analytics_id: "{{ google_analytics_tracking_id }}"
  sentry_dsn: "{{ sentry_dsn }}"
  protocol: "{{ 'https' if letsencrypt else 'http' }}"
  create_admin_user: "{{ create_admin_user }}"

# Portal Configuration
portal_hostname: "portal.{{ hub_configuration.hostname  }}"
portal_oauth_client_id:
portal_oauth_client_secret:

portal_configuration:
  hostname: "{{ portal_hostname }}"
  oauth2_client_id: "{{ portal_oauth_client_id }}"
  oauth2_client_secret: "{{ portal_oauth_client_secret }}"

# Customization Configuration
customiatzion_hostname: "customization.{{ hub_configuration.hostname  }}"
customiatzion_oauth_client_id:
customiatzion_oauth_client_secret:

customization_configuration:
  hostname: "{{ customiatzion_hostname }}"
  oauth2_client_id: "{{ customiatzion_oauth_client_id }}"
  oauth2_client_secret: "{{ customiatzion_oauth_client_secret }}"

# Telemetry configuration
telemetry_shared_key:
telemetry_salt:
telemetry_private_key_passphrase:

telemetry:
  shared_key:
  salt:
  private_key_passphrase:

# Secure Communications (SSL / TLS)
letsencrypt: true
letsencrypt_test: false

# Mail Configuration
gmail_user:
gmail_password:

mail_configuration:
  gmail:
    user: "{{ gmail_user }}"
    password: "{{ gmail_password }}"

# defaults file for hub
hub_service_prefix: hub

# Mount options
media_volume_mount:
  cifs:
    url:
    username:
    password:
  local:
    path:

volume_names:
  media: "{{ hub_service_prefix }}_media"
  static: "{{ hub_service_prefix }}_static"

network_names:
  main: "{{ hub_service_prefix }}_network"

container_names:
  main: "{{ hub_service_prefix }}_web"
  realtime: "{{ hub_service_prefix }}_channels"
  database: "{{ hub_service_prefix }}_db"
  message_queue: "{{ hub_service_prefix }}_mq"
  mailserver: "{{ hub_service_prefix }}_mailer"
  reverse_proxy: "{{ hub_service_prefix }}_nginx"
  reverse_proxy_config_generator: "{{ hub_service_prefix }}_nginx_gen"
  letsencrypt_proxy_companion: "{{ hub_service_prefix }}_letsencrypt"
  discovery_portal: "{{ hub_service_prefix }}_portal"
  customization: "{{ hub_service_prefix }}_customization"
  fluentd: "{{ hub_service_prefix }}_fluentd"
